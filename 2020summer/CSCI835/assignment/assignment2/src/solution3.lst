SQL> SET FEEDBACK ON
SQL> SET LINESIZE 100
SQL> SET PAGESIZE 200
SQL> SET SERVEROUTPUT ON
SQL> 
SQL> ALTER TABLE PRODUCT
  2  ADD ORDERED_NUM NUMBER(9) DEFAULT 0 NOT NULL;

Error starting at line : 8 in command -
ALTER TABLE PRODUCT
ADD ORDERED_NUM NUMBER(9) DEFAULT 0 NOT NULL
Error report -
ORA-01430: column being added already exists in table
01430. 00000 -  "column being added already exists in table"
*Cause:    
*Action:
SQL> 
SQL> UPDATE PRODUCT p SET ORDERED_NUM= (SELECT nvl(sum(QUANTITY),0) AS sumnum FROM ORDER_DETAIL od GROUP BY od.PRODUCT_NAME HAVING od.PRODUCT_NAME = p.PRODUCT_NAME);

Error starting at line : 11 in command -
UPDATE PRODUCT p SET ORDERED_NUM= (SELECT nvl(sum(QUANTITY),0) AS sumnum FROM ORDER_DETAIL od GROUP BY od.PRODUCT_NAME HAVING od.PRODUCT_NAME = p.PRODUCT_NAME)
Error report -
ORA-01407: cannot update ("MEIWANGZHIHUI"."PRODUCT"."ORDERED_NUM") to NULL

SQL> 
SQL> ALTER TABLE PRODUCT
  2  DROP COLUMN ORDERED_NUM;

Table PRODUCT altered.

SQL> 
SQL> SPOOL OFF
